(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[237],{5350:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/place/[id]",function(){return a(8577)}])},8577:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});var n=a(7876),t=a(4232),c=a(9099);let l={1:"김치찌개.jpg",2:"떡볶이.jpg",3:"스테이크.jpg",4:"초밥.jpg",5:"치킨.jpg"};function i(){let{id:e}=(0,c.useRouter)().query,[s,a]=(0,t.useState)(null),[i,r]=(0,t.useState)(!1),[d,o]=(0,t.useState)(""),[h,u]=(0,t.useState)(2);async function p(){if(!s)return;let e=await fetch("/api/reservations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({placeId:s.id,datetime:d,partySize:h})});if(e.ok)alert("예약 성공"),r(!1);else{let s=await e.json().catch(()=>({}));alert("예약 실패: ".concat(s.error||e.statusText))}}return((0,t.useEffect)(()=>{e&&fetch("/api/place/".concat(e)).then(e=>e.json()).then(e=>a(e.place)).catch(e=>console.error(e))},[e]),s)?(0,n.jsxs)("div",{style:{padding:24},className:"container",children:[(0,n.jsx)("div",{className:"card",children:(0,n.jsxs)("div",{style:{display:"flex",gap:16},children:[(0,n.jsx)("img",{src:s?"number"==typeof s.id&&l[s.id]?"/image/".concat(l[s.id]):"https://source.unsplash.com/featured/?".concat(encodeURIComponent(s.name)):"/image/김치찌개.jpg",style:{width:240,height:160,borderRadius:8,objectFit:"cover"}}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{style:{margin:0},children:s.name}),(0,n.jsx)("div",{className:"muted",style:{marginTop:6},children:s.address}),(0,n.jsxs)("div",{className:"muted",style:{marginTop:6},children:["전화: ",s.phone]}),(0,n.jsx)("div",{style:{marginTop:12},children:(0,n.jsx)("button",{className:"btn",onClick:()=>r(!0),style:{background:"var(--accent)",color:"#fff"},children:"예약하기"})})]})]})}),i&&(0,n.jsx)("div",{className:"modalBackdrop",children:(0,n.jsxs)("div",{className:"modal",children:[(0,n.jsxs)("h3",{children:["예약 — ",s.name]}),(0,n.jsxs)("div",{className:"formRow",children:[(0,n.jsx)("input",{value:d,onChange:e=>o(e.target.value),placeholder:"예: 2025-09-16T19:00"}),(0,n.jsxs)("select",{value:String(h),onChange:e=>u(parseInt(e.target.value,10)),children:[(0,n.jsx)("option",{value:"1",children:"1"}),(0,n.jsx)("option",{value:"2",children:"2"}),(0,n.jsx)("option",{value:"3",children:"3"}),(0,n.jsx)("option",{value:"4",children:"4"}),(0,n.jsx)("option",{value:"6",children:"6"})]})]}),(0,n.jsxs)("div",{className:"modalActions",children:[(0,n.jsx)("button",{className:"btn secondary",onClick:()=>r(!1),children:"취소"}),(0,n.jsx)("button",{className:"btn",onClick:p,style:{background:"var(--accent)",color:"#fff"},children:"예약하기"})]})]})})]}):(0,n.jsx)("div",{style:{padding:24},children:"로딩 중…"})}},9099:(e,s,a)=>{e.exports=a(6296)}},e=>{e.O(0,[636,593,792],()=>e(e.s=5350)),_N_E=e.O()}]);